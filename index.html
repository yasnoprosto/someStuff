<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>lesson_3</title>
    <style>
        body {
            background-color: aliceblue;
        }
    </style>

</head>
<body>

<script src="promises/axios.js"></script>
<script src="promises/api.js"></script>
<!--<script src="promises/promises16.js"></script>-->
<script>
    // const mcPr = () => api.getVacanciesCountFromMicrosoft()
    //     .then(data => {
    //         console.log(data)
    //         return data;
    //     });
    //
    // const gPr = () => api.getVacanciesCountFromGoogle()
    //     .then(data => {
    //         console.log(data)
    //         return data;
    //     });
    // const itKamasutra = () => api.sendStudentsCountToItKamasutra(count)
    //     .then(count => {
    //         console.log(count)
    //     })
    //
    // gPr()
    //     .then(() => mcPr())
    //     .then(() => itKamasutra())
    //     .then(() => console.log("finished"))


    const loadVacanciesPromiseAsync = async () => {
        let msCount = await api.getVacanciesCountFromMicrosoft()
        console.log(msCount)
        let gCount = await api.getVacanciesCountFromGoogle()
        console.log(gCount)
        let studentsCount = await api.sendStudentsCountToItKamasutra(msCount + gCount)
        console.log(studentsCount)
    }

    // loadVacanciesPromiseAsync()

    const loadVacanciesPromiseAsyncParallel = async () => {
        let msPr = api.getVacanciesCountFromMicrosoft()
        let gPr = api.getVacanciesCountFromGoogle()
        let vacaniesCount = await Promise.all([msPr, gPr])
        let studentsCount = await api.sendStudentsCountToItKamasutra(vacaniesCount[0] + vacaniesCount[1])
        console.log(studentsCount)
    }

    loadVacanciesPromiseAsyncParallel()


</script>
</body>
</html>